<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aarogyamm</title>

    <link rel="stylesheet" type="text/css" href="/static/css/home.css">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" type="text/css" href="/static/css/search.css">
</head>


<body>

    <header> 
        <!-- Navebar -->
        <div class="navbar" id="myNavbar"></div>
      </header>

    

    <div id="customer" class="tabcontent">
        <header>
            <h1> Add Customer</h1>
        </header>
        <main >
            <form action="/customer" method="get" id="addCustomerForm">
                <div class="form-group">
                    <label for="newCustomerName">Name</label>
                    <input type="text" name="name" id="newCustomerName" class="form-control">
                </div>

                <div class="form-group">
                    <label for="newPhoneNo">WhatsApp No</label>
                    <input type="number" name="whatsapp" id="WhatsAppNo" class="form-control" oninput="validatePhoneNumber(this)"
                        inputmode="numeric">
                </div>

                <div class="form-group">
                    <label for="newPhoneNo1">Mobile No</label>
                    <input type="number" name="cnumber" id="MobileNo" class="form-control" oninput="validatePhoneNumber(this)"
                        inputmode="numeric">
                </div>

                <div class="form-group">
                    <label for="newEmail">Email</label>
                    <input type="email" name="email" id="newEmail" class="form-control">
                </div>

                <div class="form-group">
                    <label for="newaddress" class="col-form-label">Address </label>
                    <input type="text" name="address" id="newaddress" class="form-control">
                </div>

                <div>
                    <button class="add-buttons" type="submit">Add Customer</button>
                </div>

            </form>
        </main>
    </div>

    <div id="table" class="tabcontent">
        <table class="customer-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Customer Name</th>
                    <th>WhatsApp No</th>
                    <th>Mobile No</th>
                    <th>Email</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody id="customerData">
                <!-- Data will be populated here dynamically -->


            </tbody>
        </table>
    </div>

    <script>

        // function showAddCustomerForm() {
        //     // Show the add customer modal
            // $('#addCustomer').modal('show');
        //     // console.log("kunal");
        // }

        // function addCustomer() {
        //     // Retrieve customer data from the form
        //     var CustomerName = document.getElementById("newCustomerName").value;
        //     var WhatsAppNo= document.getElementById("WhatsAppNo").value;
        //     var MobileNo= document.getElementById("MobileNo").value;
        //     var Email = document.getElementById("newEmail").value;
        //     var Address = document.getElementById("newaddress").value;

        //     // Create a data object to send to the server
        //     var customerData = {
        //         CustomerName: CustomerName,
        //         WhatsAppNo: WhatsAppNo,
        //         MobileNo: MobileNo,
        //         Email: Email,
        //         Address: Address
        //     };




        //     // Send an AJAX request to your Node.js server for database insertion
        //     fetch('http://127.0.0.1:7000/addCustomer', {
        //         method: 'GET',
        //         headers: {
        //             'Content-Type': 'text/html',
        //         },
        //         body: JSON.stringify(customerData),
        //     })
        //         .then(response => {
        //             if (!response.ok) {
        //                 throw new Error(`HTTP error! Status: ${response.status}`);
        //             }
        //             return response.json();
        //         })
        //         .then(data => {
        //             // Handle the response from the server, e.g., update the table
        //             updateTable(customerData);
        //             console.log('Customer added successfully:', JSON.stringify(customerData));
        //         })
        //         .catch(error => {
        //             console.error('Error adding customer:', error);
        //         });


            // Close the modal after processing
            // $('#addCustomer').modal('hide');
           
            
        // }

        // function updateTable(customerData) {
        //     // Get the table body
        //     var tableBody = document.getElementById("customerData");

        //     // Create a new row and populate it with customer data
        //     var newRow = document.createElement("tr");
        //     debugger;
        //     newRow.innerHTML = `
        //     <td>${customerData.customerNo}</td>
        //     <td>${customerData.CustomerName}</td>
        //     <td>${customerData.WhatsAppNo}</td>
        //     <td>${customerData.MobileNo}</td>
        //     <td>${customerData.Email}</td>
        //     <td>${customerData.Address}</td>        
        // `;

        //     // Append the new row to the table
        //     debugger;
        //     tableBody.appendChild(newRow);
        // }

        // // Add an event listener to the form to call addCustomer when it's submitted
        // document.getElementById("addCustomerForm").addEventListener("submit", function (event) {
        //     event.preventDefault(); // Prevent the form from submitting
        //     addCustomer(); // Call the addCustomer function

        // });
    </script>
    <script src="/static/js/script.js"></script>
    <script src="/static/js/index.js"></script>
    <script src="/static/js/rep.js"></script>

</body>

</html>